<div class="row"><div class="col-md-8 col-md-offset-2">

  <div class="panel panel-default">

    <div class="panel-heading"><h4><i class='fa fa-check-circle'></i> Edit Task</h4></div>

    <%= form_for(@task, html: {class: 'form-horizontal'}) do |f| %>
      <div class="panel-body">

        <fieldset>

          <div class="form-group">
            <label class="col-sm-2 control-label">Task:</label>
            <div class="col-sm-8">
              <%= f.text_field :name, :placeholder => "Task Name", class: "form-control", :required => true %>
            </div>
          </div>


          <div class="form-group">
            <label class="col-sm-2 control-label">Created At:</label>
            <div class="col-sm-4" style="padding-top: 7px;">
              <%= print_date(@task.created_at, "xl") %>
            </div>
          </div>

          <div class="form-group">
            <label class="col-sm-2 control-label">Due Date:</label>
            <div class="col-sm-4">
              <%= f.datetime_local_field :due_date, class: "form-control" %>
            </div>
          </div>

          <div class="form-group">
            <label class="col-sm-2 control-label">Completed:</label>
            <div class="col-sm-4" style="padding-top: 7px;">
              <%= @task.completed_at ? print_date(@task.completed_at, "xl") : "Incomplete"  %>
            </div>
          </div>

          <hr>

          <div class="form-group">
            <label class="col-sm-2 control-label">Project:</label>
            <div class="col-sm-4" style="padding-top: 7px;">
              <%= link_to "[#{@task.project.product.name}] #{@task.project.name}", @task.project %>
            </div>
          </div>

          <div class="form-group">
            <label class="col-sm-2 control-label" style="padding-top: 4px;">Item:</label>
            <div class="col-sm-4">
              <%= f.collection_select(:item_id, @task.project.items.uniq, :id , :name, {:required => true, :include_blank => "General"}, {:class => 'form-control input-sm'}) %>
            </div>
          </div>

          <div class="form-group">
            <label class="col-sm-2 control-label" style="padding-top: 4px;">Assigned:</label>
            <div class="col-sm-4">
              <%= f.collection_select(:user_id, @task.project.users.uniq, :id , :name, {:required => true}, {:class => 'form-control input-sm' }) %>
            </div>
          </div>


          <hr>

          <div class="form-group">
            <label class="col-sm-2 control-label">Starred?:</label>
            <div class="col-sm-4" style="padding-top: 7px;">
              <% if false %> <%= @task.starred ? "Starred" : "Normal" %> <% end %>
              <%= f.check_box :starred %>
            </div>
          </div>


          <div class="form-group">
            <label class="col-sm-2 control-label">Status:</label>
            <div class="col-sm-4" style="padding-top: 7px;">
              <%= @task.completed ? "Completed" : "Incomplete" %>
            </div>
          </div>

        </fieldset>

      </div>

      <div class="panel-footer">
        <%= f.submit "Save Task", class: "btn btn-md btn-success" %>
        <%= link_to "Delete Task", @task, :class => "btn btn-md btn-danger", :style => "display: inline-block;", method: :delete, data: { confirm: 'Are you sure?' } %>
      </div>

    <% end %>

  </div>

</div></div>
